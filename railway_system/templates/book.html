<!DOCTYPE html>
<html>
<head>
<title>Book Ticket</title>
<link rel="stylesheet" href="/static/style.css">
</head>

<body>
<div class="top-header">
    <i class="fa-solid fa-train"></i> RailEase
</div>

<nav>
<a href="/search">Back</a>
<a href="/logout">Logout</a>
</nav>

<div class="container">

<div class="card">

<h2>Passenger Details</h2>

<form method="post">

<label>Travel Date</label>
<input type="date" name="date" required>

<label>Number of Passengers</label>
<input type="number" name="count" min="1" max="5" required>

<div id="names"></div>

<button type="submit">Proceed to Payment</button>

</form>

</div>

</div>

<!-- ===== Dynamic Passenger Inputs ===== -->

<script>
document.querySelector("input[name='count']").onchange=function(){
    let c=this.value;
    let div=document.getElementById("names");
    div.innerHTML="";
    for(let i=0;i<c;i++){
        div.innerHTML+=`
        <input name="name${i}" placeholder="Passenger ${i+1} Name" required>
        <input name="age${i}" placeholder="Age" required>
        <select name="berth${i}">
            <option value="Lower">Lower</option>
            <option value="Middle">Middle</option>
            <option value="Upper">Upper</option>
        </select>
        `;
    }
}
</script>

</body>
</html>
